# Документация для проекта Warehouse

## Оглавление

1. [Введение](#введение)
2. [Требования](#требования)
3. [Установка и настройка](#установка-и-настройка)
4. [Основные команды](#основные-команды)
5. [Деплой](#деплой)
6. [Использование](#использование)
7. [Отладка](#отладка)


## Введение

Warehouse — это веб-приложение, разработанное на Django, предназначенное для управления складскими запасами и товарами. Этот проект использует PostgreSQL в качестве базы данных и предоставляет API для взаимодействия с системой.

## Требования

- Python 3.8+
- Docker и Docker Compose
- Postgres 13+
- Git

## Установка и настройка

### 1. Клонирование репозитория

```bash
git clone <URL вашего репозитория>
cd warehouse
```

### 2. Настройка переменных окружения

Создайте файл `.env` на основе `.env.example` и настройте переменные окружения для вашего проекта.

```bash
cp .env.example .env
```

Настройте параметры базы данных, секретный ключ и другие конфигурации в `.env`.

### 3. Запуск Docker Compose

Запустите проект с помощью Docker Compose.

```bash
docker-compose up --build
```

Docker автоматически настроит базы данных и запустит сервер.

### 4. Миграции базы данных

Примените миграции для создания необходимых таблиц в базе данных.

```bash
docker-compose exec web python manage.py migrate
```

### 5. Создание суперпользователя

Создайте суперпользователя для доступа к административной панели Django.

```bash
docker-compose exec web python manage.py createsuperuser
```

## Основные команды

### Запуск проекта

```bash
docker-compose up
```

### Применение миграций

```bash
docker-compose exec web python manage.py migrate
```

### Создание новых миграций

```bash
docker-compose exec web python manage.py makemigrations
```

### Создание суперпользователя

```bash
docker-compose exec web python manage.py createsuperuser
```

### Остановка проекта

```bash
docker-compose down
```

### Очистка данных

Если вам нужно удалить контейнеры, сети и тома:

```bash
docker-compose down -v
```



## Деплой

### Подготовка к деплою

1. Убедитесь, что все миграции применены.
2. Настройте переменные окружения для продакшн-среды.
3. Убедитесь, что `DEBUG = False` в настройках Django.
4. Выполните сборку статических файлов:

```bash
docker-compose exec web python manage.py collectstatic --noinput
```

### Деплой на сервер

Процесс деплоя зависит от выбранного вами хостинга (например, AWS, DigitalOcean и т.д.). Общий процесс включает:

1. Настройка сервера (установка Docker, настройка брандмауэра и т.д.).
2. Развертывание Docker контейнеров на сервере.
3. Настройка веб-сервера (например, Nginx) для работы с Django через Gunicorn.

## Использование

### Доступ к административной панели

Административная панель доступна по адресу:

```
http://localhost:8000/admin/
```

Войдите с помощью учетных данных суперпользователя, созданного ранее.

### Основной функционал

Проект включает следующие основные компоненты:

- Управление товарами на складе
- API для создания, обновления, просмотра и удаления данных
- Swagger-документация для взаимодействия с API



## Отладка

### Логи Docker

Для просмотра логов используйте команду:

```bash
docker-compose logs -f
```

### Подключение к контейнеру

Вы можете подключиться к работающему контейнеру с помощью:

```bash
docker-compose exec web bash
```

Или для базы данных:

```bash
docker-compose exec db psql -U your_username -d warehouse_db
```
